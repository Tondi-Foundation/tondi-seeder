# TondiSeeder 优化配置文件
# 专为高性能节点发现优化

host = "seed.tondi.org"
nameserver = "ns1.tondi.org"
listen = "0.0.0.0:5354"
grpc_listen = "0.0.0.0:3737"
app_dir = "./data/mainnet"
threads = 8  # 保持8线程不变
log_level = "info"  # 生产环境使用info级别
no_log_files = false
testnet = false

# 已知工作节点地址（从之前提交中提取的快速发现节点）
known_peers = "54.39.156.234:16111,107.220.225.108:16111,72.28.135.10:16111,95.208.218.114:16111,23.118.8.166:16111,69.72.83.82:16111,167.179.147.155:16111,109.248.250.155:16111,118.70.175.236:16111,31.97.100.30:16111,46.21.250.122:16111,82.165.188.245:16111,188.63.232.45:16111,193.164.205.249:16111,148.251.151.149:16111,23.118.8.168:16111,5.181.124.76:16111,147.93.69.22:16111,57.129.84.149:16111,151.213.166.40:16111,23.118.8.163:16111,80.219.209.29:16111,135.131.145.104:16111,66.94.120.76:16111,89.58.46.206:16111,188.226.83.207:16111,103.95.113.96:16111,91.106.155.180:16111,185.199.108.153:16111,185.199.109.153:16111,185.199.110.153:16111,185.199.111.153:16111,140.82.112.3:16111,140.82.112.4:16111,140.82.112.5:16111,140.82.112.6:16111,140.82.112.7:16111,140.82.112.8:16111,140.82.112.9:16111,140.82.112.10:16111,140.82.112.11:16111,140.82.112.12:16111,140.82.112.13:16111,147.135.70.51:16111,174.109.136.162:16111,152.53.178.127:16111,107.146.57.209:16111,152.53.88.50:16111,74.106.15.190:16111,185.143.228.109:16111,152.53.44.229:16111,152.53.54.29:16111,145.239.239.242:16111,157.90.201.188:16111,84.247.153.172:16111,37.221.197.208:16111,213.199.40.239:16111"

# 高级日志配置（支持轮转）
[advanced_logging]
# 日志轮转策略: "daily", "hourly", "size", "hybrid"
rotation_strategy = "daily"
# 基于时间的轮转间隔（小时，用于小时轮转）
rotation_interval_hours = 24
# 是否压缩轮转的日志文件
compress_rotated_logs = true
# 压缩级别 (1-9, 9为最大压缩)
compression_level = 6
# 是否在日志文件中包含主机名
include_hostname = true
# 是否在日志文件中包含进程ID
include_pid = true
# 自定义日志格式模式（可选）
# custom_format = "{timestamp} [{level}] {target}: {message}"
# 是否启用日志缓冲
enable_buffering = true
# 缓冲区大小（字节）
buffer_size_bytes = 65536
# 轮转前的最大日志文件大小（MB）
max_file_size_mb = 100
# 保留的轮转日志文件数量
max_rotated_files = 10
# 是否启用日志文件监控
enable_file_monitoring = true
# 日志文件监控间隔（秒）
file_monitoring_interval = 300

# 性能监控配置
[monitoring]
# 是否启用性能监控
enabled = true
# 监控间隔（秒）
interval_seconds = 30  # 从60秒减少到30秒，更频繁的监控
# 是否收集内存使用统计
collect_memory_stats = true
# 是否收集CPU使用统计
collect_cpu_stats = true
# 是否收集网络统计
collect_network_stats = true
# 是否收集磁盘I/O统计
collect_disk_stats = true
# 保留的历史数据点最大数量
max_history_points = 2000  # 从1000增加到2000
# 是否通过HTTP端点导出指标
http_metrics = true  # 启用HTTP指标
# HTTP指标端口
http_metrics_port = 9090

# 性能优化配置（新增）
[performance]
# 启用激进DNS种子发现
aggressive_dns_seeding = true
# DNS种子发现阈值（节点数量低于此值时强制种子发现）
dns_seeding_threshold = 2000
# 启用IP范围生成
enable_ip_range_generation = true
# 每轮处理的节点数量倍数
batch_size_multiplier = 4
# 连接超时优化
fast_fail_timeout = true
# 启用智能重试
smart_retry = true
